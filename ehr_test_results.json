{
  "summary": {
    "passed": 7,
    "total": 7,
    "success_rate": "100.0%",
    "timestamp": "2025-10-01T16:51:26.318371"
  },
  "results": [
    {
      "test": "Health Check",
      "success": true,
      "message": "Backend is healthy",
      "timestamp": "2025-10-01T16:51:25.429926",
      "details": {
        "status": "healthy",
        "service": "SmartDoc Pro Backend",
        "version": "1.0.0",
        "timestamp": "2025-10-01T16:51:25.427434"
      }
    },
    {
      "test": "Doctor Registration",
      "success": true,
      "message": "Registration successful",
      "timestamp": "2025-10-01T16:51:25.677726",
      "details": {
        "success": true,
        "message": "Account created successfully! You can now login with your credentials.",
        "data": {
          "user_id": "68dd5c0d4963b0760068390a",
          "username": "test_doctor_77b86a99"
        }
      }
    },
    {
      "test": "Doctor Login",
      "success": true,
      "message": "Login successful",
      "timestamp": "2025-10-01T16:51:25.928990",
      "details": {
        "token_type": "bearer",
        "user_id": "68dd5c0d4963b0760068390a"
      }
    },
    {
      "test": "EHR Providers",
      "success": true,
      "message": "Retrieved 8 providers",
      "timestamp": "2025-10-01T16:51:25.935701",
      "details": {
        "total_providers": 8,
        "expected_found": 5,
        "providers": [
          "Epic",
          "Cerner",
          "Allscripts",
          "AthenaHealth",
          "eClinicalWorks",
          "NextGen",
          "Custom FHIR",
          "Other"
        ]
      }
    },
    {
      "test": "EHR Configuration (Epic OAuth)",
      "success": true,
      "message": "Epic configuration saved",
      "timestamp": "2025-10-01T16:51:25.945322",
      "details": {
        "success": true,
        "message": "EHR configuration saved successfully",
        "data": {
          "config_id": "f9742e49-3d4a-4a19-b2a6-b7b47112af69",
          "provider": "Epic"
        }
      }
    },
    {
      "test": "EHR Configuration (Cerner API Key)",
      "success": true,
      "message": "Cerner configuration saved",
      "timestamp": "2025-10-01T16:51:25.955123",
      "details": {
        "success": true,
        "message": "EHR configuration saved successfully",
        "data": {
          "config_id": "093e881a-3f75-4485-aee4-b5a8258fdf25",
          "provider": "Cerner"
        }
      }
    },
    {
      "test": "EHR Connection Test",
      "success": true,
      "message": "Connection test completed with status: connected",
      "timestamp": "2025-10-01T16:51:26.205692",
      "details": {
        "success": true,
        "message": "Connection successful",
        "data": {
          "status": "connected",
          "response_time": 0.136808,
          "capabilities": [
            "MeasureReport",
            "Condition",
            "Coverage",
            "EpisodeOfCare",
            "Patient",
            "ResearchStudy",
            "List",
            "Claim",
            "Contract",
            "Organization",
            "CarePlan",
            "Flag",
            "ServiceRequest",
            "FamilyMemberHistory",
            "ExplanationOfBenefit",
            "Endpoint",
            "DeviceUseStatement",
            "AllergyIntolerance",
            "MedicationAdministration",
            "Immunization",
            "Communication",
            "Observation",
            "Provenance",
            "Procedure",
            "BodyStructure",
            "RelatedPerson",
            "RequestGroup",
            "Binary",
            "ImagingStudy",
            "MedicationDispense",
            "Practitioner",
            "Media",
            "NutritionOrder",
            "Consent",
            "Task",
            "Account",
            "DeviceRequest",
            "Device",
            "CareTeam",
            "DocumentReference",
            "ConceptMap",
            "PractitionerRole",
            "MedicationRequest",
            "Measure",
            "Appointment",
            "Specimen",
            "Medication",
            "Location",
            "DiagnosticReport",
            "Questionnaire",
            "ValueSet",
            "QuestionnaireResponse",
            "Goal",
            "Encounter",
            "Group",
            "ResearchSubject",
            "ImmunizationRecommendation",
            "Substance",
            "AdverseEvent"
          ],
          "fhir_version": "4.0.1"
        }
      }
    },
    {
      "test": "Get EHR Configurations",
      "success": true,
      "message": "Retrieved 2 configurations",
      "timestamp": "2025-10-01T16:51:26.254587",
      "details": {
        "count": 2,
        "providers": [
          "Cerner",
          "Epic"
        ]
      }
    },
    {
      "test": "Auth Required - GET /ehr/providers",
      "success": true,
      "message": "Correctly requires authentication (HTTP 403)",
      "timestamp": "2025-10-01T16:51:26.260543",
      "details": {}
    },
    {
      "test": "Auth Required - GET /ehr/configurations",
      "success": true,
      "message": "Correctly requires authentication (HTTP 403)",
      "timestamp": "2025-10-01T16:51:26.266076",
      "details": {}
    },
    {
      "test": "Auth Required - POST /ehr/configure",
      "success": true,
      "message": "Correctly requires authentication (HTTP 403)",
      "timestamp": "2025-10-01T16:51:26.312049",
      "details": {}
    },
    {
      "test": "Auth Required - POST /ehr/test-connection",
      "success": true,
      "message": "Correctly requires authentication (HTTP 403)",
      "timestamp": "2025-10-01T16:51:26.318200",
      "details": {}
    }
  ]
}