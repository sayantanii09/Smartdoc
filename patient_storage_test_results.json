{
  "summary": {
    "passed": 10,
    "total": 12,
    "success_rate": "83.3%",
    "timestamp": "2025-10-08T15:32:53.280281"
  },
  "results": [
    {
      "test": "Health Check",
      "success": true,
      "message": "Backend is healthy",
      "timestamp": "2025-10-08T15:32:52.399914",
      "details": {
        "status": "healthy",
        "service": "SmartDoc Pro Backend",
        "version": "1.0.0",
        "timestamp": "2025-10-08T15:32:52.396361"
      }
    },
    {
      "test": "Doctor Login (Demo Account)",
      "success": true,
      "message": "Demo account login successful",
      "timestamp": "2025-10-08T15:32:52.662742",
      "details": {
        "username": "drsmith",
        "token_type": "bearer",
        "user_id": "68dd53f5863240be876f18e5"
      }
    },
    {
      "test": "Patient Save",
      "success": true,
      "message": "Patient saved successfully with code: DO3614",
      "timestamp": "2025-10-08T15:32:52.680818",
      "details": {
        "patient_code": "DO3614",
        "patient_id": "46ad4289-8f0d-4875-afa7-d0217a064666",
        "visit_date": "2025-10-08T15:32:52.672721+00:00",
        "code_length": 6
      }
    },
    {
      "test": "Patient Search",
      "success": false,
      "message": "HTTP 500",
      "timestamp": "2025-10-08T15:32:52.696615",
      "details": {
        "response": "{\"success\":false,\"error\":\"Internal server error\",\"status_code\":500}"
      }
    },
    {
      "test": "Patient Search Invalid Code",
      "success": true,
      "message": "Correctly returned 404 for invalid patient code",
      "timestamp": "2025-10-08T15:32:52.713942",
      "details": {
        "success": false,
        "error": "Patient not found with the provided code",
        "status_code": 404
      }
    },
    {
      "test": "Get My Patients",
      "success": false,
      "message": "HTTP 500",
      "timestamp": "2025-10-08T15:32:52.724261",
      "details": {
        "response": "{\"success\":false,\"error\":\"Internal server error\",\"status_code\":500}"
      }
    },
    {
      "test": "Auth Required - GET /patients/my-patients",
      "success": true,
      "message": "Correctly requires authentication (HTTP 403)",
      "timestamp": "2025-10-08T15:32:52.732254",
      "details": {}
    },
    {
      "test": "Auth Required - POST /patients/save",
      "success": true,
      "message": "Correctly requires authentication (HTTP 403)",
      "timestamp": "2025-10-08T15:32:52.742914",
      "details": {}
    },
    {
      "test": "Auth Required - POST /patients/search",
      "success": true,
      "message": "Correctly requires authentication (HTTP 403)",
      "timestamp": "2025-10-08T15:32:52.755105",
      "details": {}
    },
    {
      "test": "EHR Providers",
      "success": true,
      "message": "Retrieved 8 providers",
      "timestamp": "2025-10-08T15:32:52.766812",
      "details": {
        "total_providers": 8,
        "expected_found": 5,
        "providers": [
          "Epic",
          "Cerner",
          "Allscripts",
          "AthenaHealth",
          "eClinicalWorks",
          "NextGen",
          "Custom FHIR",
          "Other"
        ]
      }
    },
    {
      "test": "EHR Configuration (Epic OAuth)",
      "success": true,
      "message": "Epic configuration saved",
      "timestamp": "2025-10-08T15:32:52.819559",
      "details": {
        "success": true,
        "message": "EHR configuration saved successfully",
        "data": {
          "config_id": "2faf52f8-6e6f-4cfb-8007-869dbb653a8a",
          "provider": "Epic"
        }
      }
    },
    {
      "test": "EHR Configuration (Cerner API Key)",
      "success": true,
      "message": "Cerner configuration saved",
      "timestamp": "2025-10-08T15:32:52.830980",
      "details": {
        "success": true,
        "message": "EHR configuration saved successfully",
        "data": {
          "config_id": "11640b22-e708-4902-bfde-3469ce0bec8f",
          "provider": "Cerner"
        }
      }
    },
    {
      "test": "EHR Connection Test",
      "success": true,
      "message": "Connection test completed with status: connected",
      "timestamp": "2025-10-08T15:32:53.152713",
      "details": {
        "success": true,
        "message": "Connection successful",
        "data": {
          "status": "connected",
          "response_time": 0.200985,
          "capabilities": [
            "Claim",
            "Immunization",
            "Observation",
            "ResearchSubject",
            "MedicationDispense",
            "MedicationAdministration",
            "Appointment",
            "Condition",
            "Account",
            "BodyStructure",
            "AllergyIntolerance",
            "DeviceRequest",
            "Practitioner",
            "Communication",
            "List",
            "Provenance",
            "NutritionOrder",
            "Medication",
            "QuestionnaireResponse",
            "Binary",
            "EpisodeOfCare",
            "ImagingStudy",
            "DocumentReference",
            "Substance",
            "DeviceUseStatement",
            "Encounter",
            "ValueSet",
            "MedicationRequest",
            "Contract",
            "Measure",
            "CareTeam",
            "Questionnaire",
            "ImmunizationRecommendation",
            "Endpoint",
            "Organization",
            "ResearchStudy",
            "FamilyMemberHistory",
            "ConceptMap",
            "Group",
            "Media",
            "Coverage",
            "Specimen",
            "PractitionerRole",
            "Task",
            "Procedure",
            "MeasureReport",
            "Device",
            "RelatedPerson",
            "Patient",
            "ExplanationOfBenefit",
            "Location",
            "CarePlan",
            "AdverseEvent",
            "RequestGroup",
            "Consent",
            "DiagnosticReport",
            "Goal",
            "ServiceRequest",
            "Flag"
          ],
          "fhir_version": "4.0.1"
        }
      }
    },
    {
      "test": "Get EHR Configurations",
      "success": true,
      "message": "Retrieved 2 configurations",
      "timestamp": "2025-10-08T15:32:53.164037",
      "details": {
        "count": 2,
        "providers": [
          "Cerner",
          "Epic"
        ]
      }
    },
    {
      "test": "Auth Required - GET /ehr/providers",
      "success": true,
      "message": "Correctly requires authentication (HTTP 403)",
      "timestamp": "2025-10-08T15:32:53.214053",
      "details": {}
    },
    {
      "test": "Auth Required - GET /ehr/configurations",
      "success": true,
      "message": "Correctly requires authentication (HTTP 403)",
      "timestamp": "2025-10-08T15:32:53.223668",
      "details": {}
    },
    {
      "test": "Auth Required - POST /ehr/configure",
      "success": true,
      "message": "Correctly requires authentication (HTTP 403)",
      "timestamp": "2025-10-08T15:32:53.272268",
      "details": {}
    },
    {
      "test": "Auth Required - POST /ehr/test-connection",
      "success": true,
      "message": "Correctly requires authentication (HTTP 403)",
      "timestamp": "2025-10-08T15:32:53.280077",
      "details": {}
    }
  ]
}