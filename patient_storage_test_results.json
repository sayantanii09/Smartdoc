{
  "summary": {
    "passed": 12,
    "total": 12,
    "success_rate": "100.0%",
    "timestamp": "2025-10-08T15:33:59.834674"
  },
  "results": [
    {
      "test": "Health Check",
      "success": true,
      "message": "Backend is healthy",
      "timestamp": "2025-10-08T15:33:58.878642",
      "details": {
        "status": "healthy",
        "service": "SmartDoc Pro Backend",
        "version": "1.0.0",
        "timestamp": "2025-10-08T15:33:58.841689"
      }
    },
    {
      "test": "Doctor Login (Demo Account)",
      "success": true,
      "message": "Demo account login successful",
      "timestamp": "2025-10-08T15:33:59.155208",
      "details": {
        "username": "drsmith",
        "token_type": "bearer",
        "user_id": "68dd53f5863240be876f18e5"
      }
    },
    {
      "test": "Patient Save",
      "success": true,
      "message": "Patient saved successfully with code: VS92481",
      "timestamp": "2025-10-08T15:33:59.171024",
      "details": {
        "patient_code": "VS92481",
        "patient_id": "ab1d5f0f-f753-41f4-8805-6b3a9a3541e7",
        "visit_date": "2025-10-08T15:33:59.166543+00:00",
        "code_length": 7
      }
    },
    {
      "test": "Patient Search",
      "success": true,
      "message": "Patient found successfully with code: VS92481",
      "timestamp": "2025-10-08T15:33:59.184414",
      "details": {
        "patient_code": "VS92481",
        "patient_name": "John Michael Smith",
        "doctor_id": "68dd53f5863240be876f18e5",
        "visit_date": "2025-10-08T15:33:59.166000"
      }
    },
    {
      "test": "Patient Search Invalid Code",
      "success": true,
      "message": "Correctly returned 404 for invalid patient code",
      "timestamp": "2025-10-08T15:33:59.235527",
      "details": {
        "success": false,
        "error": "Patient not found with the provided code",
        "status_code": 404
      }
    },
    {
      "test": "Get My Patients",
      "success": true,
      "message": "Retrieved 2 patients including our saved patient",
      "timestamp": "2025-10-08T15:33:59.249404",
      "details": {
        "total_patients": 2,
        "found_our_patient": true,
        "our_patient_code": "VS92481",
        "our_patient_name": "John Michael Smith"
      }
    },
    {
      "test": "Auth Required - GET /patients/my-patients",
      "success": true,
      "message": "Correctly requires authentication (HTTP 403)",
      "timestamp": "2025-10-08T15:33:59.259113",
      "details": {}
    },
    {
      "test": "Auth Required - POST /patients/save",
      "success": true,
      "message": "Correctly requires authentication (HTTP 403)",
      "timestamp": "2025-10-08T15:33:59.309889",
      "details": {}
    },
    {
      "test": "Auth Required - POST /patients/search",
      "success": true,
      "message": "Correctly requires authentication (HTTP 403)",
      "timestamp": "2025-10-08T15:33:59.319502",
      "details": {}
    },
    {
      "test": "EHR Providers",
      "success": true,
      "message": "Retrieved 8 providers",
      "timestamp": "2025-10-08T15:33:59.330266",
      "details": {
        "total_providers": 8,
        "expected_found": 5,
        "providers": [
          "Epic",
          "Cerner",
          "Allscripts",
          "AthenaHealth",
          "eClinicalWorks",
          "NextGen",
          "Custom FHIR",
          "Other"
        ]
      }
    },
    {
      "test": "EHR Configuration (Epic OAuth)",
      "success": true,
      "message": "Epic configuration saved",
      "timestamp": "2025-10-08T15:33:59.381965",
      "details": {
        "success": true,
        "message": "EHR configuration saved successfully",
        "data": {
          "config_id": "2faf52f8-6e6f-4cfb-8007-869dbb653a8a",
          "provider": "Epic"
        }
      }
    },
    {
      "test": "EHR Configuration (Cerner API Key)",
      "success": true,
      "message": "Cerner configuration saved",
      "timestamp": "2025-10-08T15:33:59.396600",
      "details": {
        "success": true,
        "message": "EHR configuration saved successfully",
        "data": {
          "config_id": "11640b22-e708-4902-bfde-3469ce0bec8f",
          "provider": "Cerner"
        }
      }
    },
    {
      "test": "EHR Connection Test",
      "success": true,
      "message": "Connection test completed with status: connected",
      "timestamp": "2025-10-08T15:33:59.699889",
      "details": {
        "success": true,
        "message": "Connection successful",
        "data": {
          "status": "connected",
          "response_time": 0.199807,
          "capabilities": [
            "Coverage",
            "FamilyMemberHistory",
            "Goal",
            "DiagnosticReport",
            "MeasureReport",
            "Group",
            "List",
            "Encounter",
            "Consent",
            "PractitionerRole",
            "Procedure",
            "MedicationAdministration",
            "Account",
            "RequestGroup",
            "Device",
            "Questionnaire",
            "ImmunizationRecommendation",
            "Specimen",
            "Communication",
            "DeviceRequest",
            "Media",
            "ConceptMap",
            "DocumentReference",
            "AdverseEvent",
            "Organization",
            "ResearchStudy",
            "ServiceRequest",
            "Measure",
            "Task",
            "Location",
            "MedicationDispense",
            "Provenance",
            "EpisodeOfCare",
            "MedicationRequest",
            "CareTeam",
            "Practitioner",
            "Binary",
            "Endpoint",
            "ResearchSubject",
            "Appointment",
            "Observation",
            "AllergyIntolerance",
            "NutritionOrder",
            "Contract",
            "Immunization",
            "QuestionnaireResponse",
            "Condition",
            "BodyStructure",
            "ExplanationOfBenefit",
            "Patient",
            "RelatedPerson",
            "Substance",
            "ValueSet",
            "DeviceUseStatement",
            "Flag",
            "Claim",
            "CarePlan",
            "Medication",
            "ImagingStudy"
          ],
          "fhir_version": "4.0.1"
        }
      }
    },
    {
      "test": "Get EHR Configurations",
      "success": true,
      "message": "Retrieved 2 configurations",
      "timestamp": "2025-10-08T15:33:59.750991",
      "details": {
        "count": 2,
        "providers": [
          "Cerner",
          "Epic"
        ]
      }
    },
    {
      "test": "Auth Required - GET /ehr/providers",
      "success": true,
      "message": "Correctly requires authentication (HTTP 403)",
      "timestamp": "2025-10-08T15:33:59.765482",
      "details": {}
    },
    {
      "test": "Auth Required - GET /ehr/configurations",
      "success": true,
      "message": "Correctly requires authentication (HTTP 403)",
      "timestamp": "2025-10-08T15:33:59.774064",
      "details": {}
    },
    {
      "test": "Auth Required - POST /ehr/configure",
      "success": true,
      "message": "Correctly requires authentication (HTTP 403)",
      "timestamp": "2025-10-08T15:33:59.824487",
      "details": {}
    },
    {
      "test": "Auth Required - POST /ehr/test-connection",
      "success": true,
      "message": "Correctly requires authentication (HTTP 403)",
      "timestamp": "2025-10-08T15:33:59.834462",
      "details": {}
    }
  ]
}